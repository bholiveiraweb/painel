{% extends "panel/base.twig" %}

{% block content %}
	<!-- Content Wrapper. Contains page content -->
	<div class="content-wrapper">
		<form
			action="" method="post" enctype="multipart/form-data">
			<!-- Content Header (Page header) -->
			<div class="content-header">
				<div class="container-fluid">
					<div class="row mb-4">
						<div class="col-sm-6">
							<h1 class="m-0 text-dark">Produtos</h1>
						</div>
						<!-- /.col -->
						<div class="col-sm-6">
							<ol class="breadcrumb float-sm-right">
								<li class="breadcrumb-item">
									<a href="/painel">Home</a>
								</li>
								<li class="breadcrumb-item">
									<a href="/painel/produtos">Produtos</a>
								</li>
								<li class="breadcrumb-item active">Novo</li>
							</ol>
						</div>
						<!-- /.col -->
					</div>
					<!-- /.row -->
					<div class="row">
						<div class="col-sm-12">
							<button type="submit" class="btn btn-success float-sm-right">
								<i class="fas fa-save"></i>
								Salvar
							</button>
						</div>
					</div>
				</div>
				<!-- /.container-fluid -->
			</div>
			<!-- /.content-header -->

			<!-- Main content -->
			<div class="content">
				<div class="container-fluid">
					<div class="row px-2">
						<div class="col-lg-12">
							{% if session.getSession('success_message') %}
								<div class="alert alert-success alert-dismissible fade show" role="alert">
									{{ session.getSession('success_message') }}
									{{ session.unsetSession('success_message') }}
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
							{% endif %}
							{% if session.getSession('error_message') %}
								<div class="alert alert-danger alert-dismissible fade show" role="alert">
									{{ session.getSession('error_message') }}
									{{ session.unsetSession('success_message') }}
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
							{% endif %}
							<div class="card card-primary card-outline">
								<div class="card-body">
									<div class="form-group">
										<label for="title">Título</label>
										<input type="text" class="form-control {{ title_error ? 'border-danger' : '' }}" name="title" placeholder="Informe o título do produto" value="{{ product.title }}">
										{% if title_error %}
											<p class="text-danger">
												<small>{{ title_error }}</small>
											</p>
										{% endif %}
									</div>
									<div class="form-group">
										<label>Departamento</label>
										<select class="form-control select2" name="id_department" style="width: 100%;">
											<option value="">Selecione o departamento...</option>
											{% for department in departments %}
												<option value="{{ department.id }}" {{ (department.id == product.id_department) ? 'selected' : '' }}>
													{{ department.title }}
												</option>
											{% endfor %}
										</select>
										{% if department_error %}
											<p class="text-danger">
												<small>{{ department_error }}</small>
											</p>
										{% endif %}
									</div>
									<!-- <div class="form-group">
                                        <label for="description">Descrição</label>
                                        <textarea class="form-control {{ description_error ? 'border-danger' : '' }}"
                                            name="description" placeholder="Informe a descrição do produto"
                                            rows="4">{{ product.description }}</textarea>
                                        {% if description_error %}
                                        <p class="text-danger"><small>{{ description_error }}</small></p>
                                        {% endif %}
                                    </div> -->
									<div class="form-group">
										<label for="price">Preço</label>
										<input type="text" class="form-control {{ price_error ? 'border-danger' : '' }}" name="price" placeholder="99.99" value="{{ product.price }}">
										{% if price_error %}
											<p class="text-danger">
												<small>{{ price_error }}</small>
											</p>
										{% endif %}
									</div>
									<div class="form-group">
										<label for="image">Imagem
											<small>(jpg, jpeg, pjpeg, png, gif)</small>
										</label>
										<div class="input-group">
											<div class="custom-file">
												<input type="file" class="custom-file-input" name="image">
												<label class="custom-file-label text-gray {{ image_error ? 'border-danger' : '' }}" for="image">Escolha um arquivo</label>
											</div>
										</div>
										{% if image_error %}
											<p class="text-danger">
												<small>{{ image_error }}</small>
											</p>
										{% endif %}
									</div>
									<div class="form-group">
										<label for="link">Link</label>
										<input type="text" class="form-control {{ link_error ? 'border-danger' : '' }}" name="link" placeholder="Informe o link do produto" value="{{ product.link }}">
										{% if link_error %}
											<p class="text-danger">
												<small>{{ link_error }}</small>
											</p>
										{% endif %}
									</div>
									<!-- <div class="form-group">
                                    <label for="slug">Slug (SEO)</label>
                                    <input type="text" class="form-control {{ slug_error ? 'border-danger' : '' }}"
                                        name="slug" placeholder="Informe o slug do produto" value="{{ product.slug }}">
                                    {% if slug_error %}
                                    <p class="text-danger"><small>{{ slug_error }}</small></p>
                                    {% endif %}
                                </div> -->
								</div>
								<!-- /.card-body -->
							</div>
							<!-- /.card -->
						</div>
						<!-- /.col-md-12 -->
					</div>
					<!-- /.row -->
					<div class="row px-2 pb-3">
						<div class="col-sm-12">
							<button type="submit" class="btn btn-success float-sm-right">
								<i class="fas fa-save"></i>
								Salvar
							</button>
						</div>
					</div>
				</div>
				<!-- /.container-fluid -->
			</div>
			<!-- /.content -->
		</form>
	</div>
	<!-- /.content-wrapper -->
{% endblock %}
